\chapter{Adaptive Informationsverteilung}
Im folgenden wollen wir eine Methode beschreiben, ereignisbasierte Informationen an interessierte Klienten zu verteilen. Konkret orientieren wir
uns dabei an RSS. Mit ``Ereignis'' meinen wir im folgenden eine Informationseinheit (ein Eintrag im RSS-Feed, z. B. eine Schlagzeile),
mehrere Ereignisse können in einem Datenpaket (RSS-Feed) gesammelt an den Klienten übermittelt werden. Dazu betrachten wir zunächst, nach welchem
Schema die Informationen entsprechend des RSS-Systems verbreitet werden, zeigen vorherrschende Probleme auf und schlagen ein Konzept vor,
wie diese Probleme vermieden bzw. verringert werden können.
 
\input{verteiltes_polling}
\section{Rolle der Broker}
\todo{Rolle der Broker}
\input{koordinierung_der_subscriber}
\input{heuristische_bestimmung_des_ttl}
\input{bestimmung_der_intervallspanne_deltai}

\section{Optimierungsziel: geringe Netzbelastung}
\section{Optimierungsziel: bevorzugte Polling-Periode}
Bei diesem Optimierungsziel gehen wir davon aus, dass der Klient spätestens nach einer von ihm festgelegten Zeitspanne (Polling-Periode) über neue Informationen
benachrichtigt werden möchte. D. h. eine bestimmte Aktualität der Informationen wird gewünscht. Bei einigen Sorten von Informationen ist die Aktualität der Daten
von entscheidender Relevanz, wie z. B. bei aktuellen Börsennachrichten, wo es für den Interessenten darauf ankommt, möglichst schnell reagieren zu können. Dies bei
einem Push-basierten Ansatz erreichen zu können, ist relativ simpel. Bei Änderung der vom Klienten gewünschten Informationen übersendet der Anbieter diese sofort an
alle Interessenten. Nun hängt der Aktualitätsgrad nur von der Übertragungsgeschwindigkeit der Nachrichten im Netzwerk ab. Wir betrachten aber ein Pull-basiertes
System bei dem erst auf Anfrage der Klienten die angeforderte Information übersendet wird. Der Interessent hat grundsätzlich keinen Überblick darüber, wann neue
Informationen beim Anbieter vorliegen. Um den gewünschten Aktualitätsgrad einer Information zu erreichen, muss der Klient also spätestens nach Ablauf der von ihm
bevorzugten Polling-Periode $ppp$ (preferred polling-period) den Server kontaktieren. Bei einer großen Anzahl von Klienten im Netzwerk kann dies aber den
gegenteiligen Effekt haben (siehe Abschnitt \ref{vs_ziele}). Steigt die Füllgröße der Server-Queue, so steigt auch dessen Antwortzeit bezüglich eines Klienten.
Die Füllgröße der Server-Queue kann im Mittel nur dann konstant gehalten werden, wenn das mittlere Intervall der Ankunftszeiten der Klientenanfragen die mittlere
Bearbeitungszeit pro Anfrage nicht übersteigt (zu Queueing-Systemen siehe \cite{Kleinrock:Th1975}). Wenn $\lambda$ die mittlere Ankunftsrate der Anfragen ist und
$\bar x$ die mittlere Berabeitungszeit pro Anfrage, so definieren wir $\rho:=\lambda\bar x$ (utilization factor). Damit die Server-Queue stabil ist (wir haben es
nach Kleinrock \cite{Kleinrock:Th1975} im allgemeinen mit einem G/G/1-System zu tun, was ein Ein-Server-System bezeichnet, bei dem weder über die mittlere
Ankunftszeit noch über die mittlere Bearbeitungszeit genaue Aussagen getroffen werrden können),
muss gelten $0\leq\rho<1$. Ist die Kapazitätsgrenze der Server-Queue erreicht,
werden darüber hinaus ankommende Anfragen verworfen. Aber auch diese Nachrichten kosten zunächst ein gewisses Maß an Bearbeitungszeit und Netzkapazitäten.
Eine zu große Rate der Anfragen kann also auch den Akttualitätsgrad der Informationen senken.

\begin{picturehere}{1}{7}{Auswirkung Aktualitätsgrad -- Polling-Rate}{Abb:ZushAktPoll}
 \includegraphics[bb=100 0 200 250,scale=0.9]{Verzoegerung_2}
\end{picturehere}

Abbildung \ref{Abb:ZushAktPoll} zeigt die Auswirkung der Polling-Rate (=1/Polling-Periode) auf den Aktualitätsgrad der Informationen. Dieser Zusammenhang wurde mit
Hilfe der weiter unten beschriebenen Simulationsumgebung validiert. Die Grafik soll lediglich den Einfluss der Polling-Rate verdeutlichen, ein vermeintlicher
exponentieller Zusammenhang soll damit nicht zum Ausdruck gebracht werden.

Es gilt also, die aktuelle Polling-Periode $cpp$ eines Klienten in bezug auf $ppp$ maximal zu wählen, so dass die Ungleichung $\rho:=\lambda\bar x$ immer noch
erfüllt ist. Es bedarf einer Staukontrolle, die die Auslastung des Servers bestimmt und den Wert $cpp$ entsprechend anpasst. Im Foldenden werden wir einige
Standardtechniken betrachten und diese auf ihre Tauglichkeit bezüglich der Lösung des beschriebenen Problems prüfen. Dabei werden wir feststellen müssen,
dass diese Techniken aufgrund gegebener Bedingungen nicht anwendbar sind, und wir werden eine Lösung entwickeln, die auf die konkrete Problemstellung unter
Berücksichtigung der gegebenen Umstände zurechtgeschnitten ist.




\begin{notizen}
Vielleicht sollte irgendwo im Text eine kurze Einführung der Queueing-Theory nach Kleinrock gegeben werden.
\end{notizen}

\subsection{Staukontrolle}
\subsection{PID-Regler}
Ein PID-Regler ist ein Werkzeug aus der Regelungstechnik. Die Aufgabe einer Regelung besteht darin, bestimmte Größen (Temperatur, Spannung, etc.) auf einen
vorgeschriebenen Wert zu bringen und diesen entgegen allen Störeinflüssen konstant zu halten (\cite{Bernstein1998}). Bei der Regelung unterscheidet man zwischen
verschiedenen Größen, die zusammen einen Regelkreis bilden: 
\begin{description}
  \item [Regelgröße $x$] oder auch der Istwert ist die Größe, welche konstant gehalten werden soll und zu diesem Zweck erfasst wird
  \item [Führungsgröße $w$] oder auch Sollwert ist ein vorgegebener Wert, auf den die Regelgröße eingestellt werden soll
  \item [Störgröße $z$] Größe, die die Regelgröße in unerwünschter Weise beeinflusst
  \item [Regeldifferenz $x_d$] Differenz zwischen Führungs- und Regelgröße $x_d=w-x$
  \item [Stellgröße $y$] Größe, durch welche die Regelgröße in erwünschter Weise beeinflusst wird
\end{description}

\begin{picturehere}{1}{4}{Regelkreis}{Abb:Regelkreis}
 \includegraphics[bb=180 0 682 141,scale=0.75]{Regelkreis}
\end{picturehere}

%\includegraphics[scale=0.75]{Regelkreis.pstex}

Bild \ref{Abb:Regelkreis} zeigt das vereinfachte Schema eines Regelkreises. Die Regelung basiert auf Rückkopplung. Bewirkt der Einfluss der Störgröße eine Abweichung
der Regelgröße von der Führungsgröße, so ergibt die Regeldifferenz über einen Regler eine Stellgröße, die entgegengesetzt zur Störgröße auf die Regelgröße einwirkt.
Ziel dabei ist also, die Regeldifferenz auf null zu bringen.

Die Wahl eines geeigneten Reglers hängt stark von der Regelstrecke ab. Die Regelstrecke bezeichnet die zu regelnde Anlage oder den zu regelnden Prozeß. Wichtig zu
wissen ist, wie die Regelstrecke auf Änderung der Einflussgrößen reagiert. Nach \cite{Bernstein1998} ordnet man Regelstrecken einer von 5 möglichen Klassen zu.
Strecken 0. Ordnung besitzen keinen Ausgleich, Verzögerungen oder Totzeiten. D. h. die Ausgleichs- bzw. Regelgröße folgt ganz und gar in ihrem Zeitverhalten der
Eingangsgröße bzw. Stellgröße, eine zeitliche Verschiebung (Totzeit) tritt nicht auf.

\subsubsection{Staukontrolle bei TCP}
\subsubsection{Staukontrolle bei Pub/Sub-RSS}
\subsection{Timer}
\subsubsection{Timer bei TCP}
\subsubsection{Timer bei Pub/Sub-RSS}
\subsection{Ausbalancierung der Polling-Raten}
\todo{alle obigen Abschnitte}
