\section{Angestrebte Dienstgüte: Bevorzugte Polling-Periode}
\label{angestrebte_dienstguete}
Bei diesem Ziel gehen wir davon aus, dass jeder Klient spätestens nach einer von ihm festgelegten Zeitspanne $ppp$ (``preferred polling-period'',
bevorzugte Polling-Periode) über neue Informationen
benachrichtigt werden möchte. Es wird also eine bestimmte Aktualität der Informationen gewünscht. Sollte dieser Aktualitätsgrad aufgrund physikalischer Grenzen
(Übertragungs\-zei\-ten, Ser\-ver-Kapazität) nicht erreicht werden können, so sollte der größtmögliche Aktualitätsgrad erreicht werden.\\

Bei einigen Sorten von Informationen kann die Aktualität der Daten
für den Interessenten von entscheidender Relevanz sein, wie z. B. bei aktuellen Börsennachrichten, wo es für den Interessenten darauf ankommt, möglichst schnell
reagieren zu können. Dies bei
einem Push-basierten Ansatz erreichen zu können, ist relativ simpel. Bei Änderung der vom Klienten gewünschten Informationen übersendet der Anbieter diese sofort an
alle Interessenten. Nun hängt der Aktualitätsgrad nur von der Übertragungsgeschwindigkeit der Nachrichten im Netzwerk ab. Wir betrachten aber ein Pull-basiertes
System, bei dem erst auf Anfrage der Klienten die angeforderte Information übersendet wird. Der Interessent hat grundsätzlich keinen Überblick darüber, wann neue
Informationen beim Anbieter vorliegen. Um den gewünschten Aktualitätsgrad einer Information zu erreichen, muss ein Klient also spätestens nach Ablauf der von ihm
bevorzugten Polling-Periode $ppp$ den Server kontaktieren. Der Wert $ppp$ kann von jedem Klienten individuell eingestellt werden.
Bei einer großen Anzahl von Klienten im Netzwerk kann dies aber einen
nachteiligen Effekt haben (siehe Abschnitt \ref{vs_ziele}). Steigt die Füllgröße der Server-Queue, so vergrößert sich auch die Antwortzeit des Servers bezüglich
eines Klienten.
Die Füllgröße der Server-Queue kann nur dann im Mittel konstant gehalten werden, wenn das mittlere Intervall der Ankunftszeiten der Klientenanfragen die mittlere
Bearbeitungszeit pro Anfrage nicht übersteigt (zu Queueing-Systemen siehe \cite{Kleinrock:Th1975}). Wenn $\lambda$ die mittlere Ankunftsrate der Anfragen ist und
$\bar x$ die mittlere Bearbeitungszeit pro Anfrage, so definieren wir $\rho:=\lambda\bar x$ (utilization factor). Damit die Auslastung der Server-Queue stabil
ist, muss gelten $0\leq\rho<1$ (wir haben es
nach Kleinrock \cite{Kleinrock:Th1975} im allgemeinen mit einem G/G/1-System zu tun, was ein Ein-Server-System bezeichnet, bei dem weder über die mittlere
Ankunftsrate noch über die mittlere Bearbeitungszeit der Anfragen genaue Aussagen getroffen werden können). Ist die Kapazitätsgrenze der Server-Queue erreicht,
werden darüber hinaus ankommende Anfragen verworfen. Aber auch diese Nachrichten kosten zunächst ein gewisses Maß an Bearbeitungszeit und Netzwerkkapazitäten.
Eine zu hohe Rate bzw. Frequenz der Anfragen kann also auch den Aktualitätsgrad der Informationen senken.\\

\begin{picturehere}{1}{7}{\mbox{Zusammenhang Polling-Rate -- Aktualitätsgrad}}{Abb:ZshgPollAkt}
 \includegraphics[bb=100 0 200 250,scale=0.9]{Zusammenhang_Pollingrate_Aktualitaetsgrad}
\end{picturehere}

Abbildung \ref{Abb:ZshgPollAkt} zeigt die Auswirkung der Polling-Rate (=1/Polling-Periode) auf den Aktualitätsgrad der Informationen\footnote{Die Grafik soll
lediglich als schematische Illustration dienen, ein vermeintlicher exponentieller Zusammenhang wurde nicht beobachtet.}.
Solch ein Zusammenhang wurde mit Hilfe der weiter unten beschriebenen Simulationsumgebung validiert.

\paragraph{Dienstgüte:}
Wir benötigen eine Metrik,
um die Dienstgüte (``Quality of Service'', QoS) bestimmen zu können. Mit ihrer Hilfe ist für einen Benutzer nachvollziehbar, welche eventuellen Verbesserungen
ihm ein neues Verfahren gegenüber dem bisherigen bietet. Dafür definieren wir zwei Funktionen: $\Gamma_V$ gibt Aufschluss über den Verzögerungsgrad
der RSS-Feeds, $\Gamma_A$ gibt Aufschluss über den Aktualitätsgrad der RSS-Feeds.\\

Die zeitliche Verzögerung eines RSS-Feeds wird in Abhängigkeit von der bevorzugten Polling-Periode in Prozent angegeben. $\Gamma_V$ ist also dann größer 0,
wenn ein Feed einen Benutzer nicht innerhalb der gewünschten Zeit erreicht. $\Gamma_V$ bestimmt sich durch
\begin{equation}
  \Gamma_V:=\begin{cases}
    0& \text{wenn $(\varDelta pubDate-ppp) < 0$},\\
    \frac{100\cdot(\varDelta pubDate-ppp)}{ppp} & \text{sonst}.
  \end{cases}
\end{equation}

Dabei ist $\varDelta pubDate$ die Zeitspanne vom aktuellen Zeitpunkt bis zum am weitesten zurückliegenden Ereignis innerhalb des letzten RSS-Feeds.\\

$\Gamma_A$ bestimmt sich durch
\begin{equation}
  \Gamma_A:=\begin{cases}
    100& \text{wenn $(\varDelta pubDate-ppp) < 0$},\\
    \frac{100\cdot ppp}{\varDelta pubDate}& \text{sonst}.
  \end{cases}
\end{equation}

Beispielsweise bedeutet ein Aktualitätsgrad eines Feeds von 50\%, dass der Feed erst nach der Zeit $2\cdot ppp$ einen Subscriber erreicht hat.

\paragraph{Wahl der Zufallsspanne:}
Es ist erforderlich, für die Berechnung von $\varDelta Z$ eine Größe heranzuziehen, welche sich den Gegebenheiten dynamisch anpasst.
$ppp$ ist eine feste Größe, bzw.
wird vom Subscriber willkürlich gesetzt, sollte also nicht ohne weiteres herangezogen werden. Wir definieren die vom Subscriber nicht direkt beeinflussbare
Größe $cpp$, welche die aktuelle Polling-Periode bezeichnet, und setzen $\varDelta Z:=cpp$. Bezogen auf $t_x$ wird ein Subscriber also spätestens nach Ablauf der
Zeit $cpp$ seine Anfrage an den RSS-Server stellen. Wie sich $cpp$ im Laufe der Zeit anpassen soll, werden wir im Abschnitt
\ref{css:staukontrolle_pubsubrss} schildern.

\paragraph{Initiale Belegung der aktuellen Polling-Periode:}
Zunächst stellt sich die Frage, wie $cpp$ initial belegt werden soll, also bei Eintritt des Subscribers in das System.
Die Fragestellung nach einem initialen Timeout ist eine sehr grundsätzliche, die auch bei anderen Protokollfamilien
eine Rolle spielt (z. B. bei TCP, siehe auch \cite{18216}). Die Problematik ist hier die folgende:
wählen wir eine sehr kurze Polling-Periode und treten gleichzeitig viele neue Subscriber dem System bei, so kann es eventuell zur Überlastung
des RSS-Servers kommen. Wählen wir eine lange Periode, so erhält der betreffende Subscriber einen neuen Feed möglicherweise erst sehr spät bzw. zu spät.
Wir haben jedoch einen konkreten Richtwert, den $ppp$, und wir wählen initial $cpp:=ppp$.
Es stellt sich die Frage, welcher alternative Wert angemessen wäre, da ``kurze Periode'' und ``lange Periode'' relative
Begriffe sind und sich auf die Leistungsfähigkeit des RSS-Servers und auf die Anzahl der Klienten im System beziehen. Beide sind aber bei Einstieg des Subscribers
in das System dem Subscriber noch nicht bekannt.
Jedoch hat der Subscriber ein konkretes Anliegen, nämlich den Erhalt eines Feeds spätestens nach der Zeit $ppp$. Also bildet der $ppp$  aus Sicht des Subscribers
den Richtwert. Wie durch die Wahl des $cpp$ auftretende Probleme reduziert werden können, werden wir in den
Abschnitten \ref{cs:ausbalancierung_der_polling-perioden} und \ref{cs:churn} näher betrachten.\\

Es gilt also, die aktuelle Polling-Periode $cpp$ eines Klienten in Bezug auf $ppp$ minimal zu wählen, so dass die Ungleichung $0\leq\rho<1$ immer noch
erfüllt ist. Es bedarf einer Staukontrolle, die die Auslastung des Servers bestimmt und den Wert $cpp$ entsprechend anpasst.

\input{staukontrolle}
\input{feeds_und_timer}
\input{ausbalancierung_der_pollingperioden}
\input{churn}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "diplomarbeit"
%%% End: 
